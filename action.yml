name: "Scality Syft"
description: "Self Service SBOM generation using Syft for Scality products"
author: "Scality"
branding:
  color: gray-dark
  icon: shield
inputs:
  path:
    required: false
    description: "A path to a directory on the filesystem to scan"
    default: "/artifact"

  file:
    required: false
    description: "A file on the filesystem to scan"

  image:
    required: false
    description: "A container image to scan"

  format:
    required: false
    description: "The SBOM format to export"
    default: "cyclonedx-json"

  github-token:
    description: "Authorized secret GitHub Personal Access Token. Defaults to github.token"
    required: false
    default: ${{ github.token }}

  artifact-name:
    description: "The name to use for the SBOM file generated by this action"
    required: false

  output-file:
    required: false
    description: "A file location to output the SBOM"

  syft-version:
    required: false
    description: "The version of Syft to use"

  dependency-snapshot:
    required: false
    description: "Upload to GitHub dependency snapshot API"
    default: "false"

  upload-artifact:
    required: false
    description: "Upload artifact to workflow"
    default: "true"

runs:
  using: 'docker'
  image: 'Dockerfile'